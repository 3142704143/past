function reload(){
	window.location.reload();
}
function help(msg){
<<<<<<< .mine
	alert('欢迎使用'+msg);
=======
	alert('��ӭʹ��'+msg);
>>>>>>> .r5
}

function to(url){
	window.location.href=url;
}
function back(){
	history.go(-1);
}
function save(url){
<<<<<<< .mine
	alert('保存成功！');
=======
	alert('����ɹ���');
>>>>>>> .r5
	to(url);
}
function add(url){
<<<<<<< .mine
	alert('新建成功！');
=======
	alert('�½��ɹ���');
>>>>>>> .r5
	to(url);
}
function del(msg){
<<<<<<< .mine
	if (window.confirm("确认删除"+msg+"？")){
=======
	if (window.confirm("ȷ��ɾ��"+msg+"��")){
>>>>>>> .r5
		reload();
	}
}
function setCurTime(oid){
	var now=new Date();
	var year=now.getFullYear();
	var month=now.getMonth();
	var day=now.getDate();
	var hours=now.getHours();
	var minutes=now.getMinutes();
	var seconds=now.getSeconds();
	var timeString = year+"-"+(month+1)+"-"+day+" "+hours+":"+minutes+":"+seconds;
	var oCtl = document.getElementById(oid);
	oCtl.value = timeString;
}

/*
 * 
{
<<<<<<< .mine
url:请求路径
params:请求参数
headers:渲染头部内容
grid：渲染的table
=======
url:����·��
params:�������
headers:��Ⱦͷ������
grid����Ⱦ��table
>>>>>>> .r5
}
 */
function datagrid(obj){
<<<<<<< .mine
	//发送ajax获取数据
=======
	//����ajax��ȡ���
>>>>>>> .r5
	
	obj.params = "page="+obj.page+"&"+"rows="+obj.rows;
	
	$.post(
			obj.url,//
			obj.params,
		function(data){
			var result = data.rows;
			var content="";
<<<<<<< .mine
			//判断是否存在渲染数据
=======
			//�ж��Ƿ������Ⱦ���
>>>>>>> .r5
			if(result == null || result.length == 0){
				obj.grid.empty();
<<<<<<< .mine
				obj.grid.append("<tr><td style='text-align:center'>没有查询到合适的数据</td></tr>");
=======
				obj.grid.append("<tr><td style='text-align:center'>û�в�ѯ�����ʵ����</td></tr>");
>>>>>>> .r5
				return ;
			}
			
<<<<<<< .mine
			//过滤方法
=======
			//���˷���
>>>>>>> .r5
			result = obj.onFilter(result);
<<<<<<< .mine
			//构建头部
=======
			//����ͷ��
>>>>>>> .r5
			content+="<thead>";
			obj.headers.forEach(function(header){
				content+="<th>";
				content+=header.column;
				content+="</th>";
			})
			content+="</thead>";
<<<<<<< .mine
			//构建内容部分
=======
			//�������ݲ���
>>>>>>> .r5
			result.forEach(function(role){
				content+="<tr>";
<<<<<<< .mine
				//遍历头部，根据code获取对应的值
=======
				//����ͷ�������code��ȡ��Ӧ��ֵ
>>>>>>> .r5
				obj.headers.forEach(function(header){
					content+="<td>";
					content+=role[header.code];
					content+="</td>";
				})	
				content+="</tr>";
			})
<<<<<<< .mine
			//在table 的底部添加分页
=======
			//��table �ĵײ���ӷ�ҳ
>>>>>>> .r5
			var p = data.total%obj.rows == 0 ?  data.total/obj.rows : data.total/obj.rows+1;
			
<<<<<<< .mine
			content +="<tfoot><tr><td colspan="+obj.headers.length+">共 "+data.total+" 条记录 每页 "+obj.rows+" 条 第"+obj.page+" 页/共 "+p+" 页 第一页 <a id='lastpage'>上一页</a> <a id='nextpage' >下一页</a> 最后一页 转到  页  GO</td></tr> </tfoot>"
=======
			content +="<tfoot><tr><td colspan="+obj.headers.length+">�� "+data.total+" ����¼ ÿҳ "+obj.rows+" �� ��"+obj.page+" ҳ/�� "+p+" ҳ ��һҳ <a id='lastpage'>��һҳ</a> <a id='nextpage' >��һҳ</a> ���һҳ ת��  ҳ  GO</td></tr> </tfoot>"
>>>>>>> .r5
			
			
			obj.grid.empty();
			obj.grid.append(content);
<<<<<<< .mine
			//上一页
=======
			//��һҳ
>>>>>>> .r5
			$("#nextpage").click(function(){
				obj.page=obj.page+1;
				datagrid(obj);
			})
<<<<<<< .mine
			//下一页
=======
			//��һҳ
>>>>>>> .r5
			$("#lastpage").click(function(){
				obj.page=obj.page-1;
				datagrid(obj);
			})
		},
		"json"
	)
}